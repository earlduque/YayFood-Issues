# YayFood 1.2.0 Release Notes

## What's New

### Enhanced Card Export Layouts
Share your food discoveries on social media with beautiful, customizable card exports:

- **Hero Score Layout**: Export single dishes with large centered ratings and 5-star visualization
- **Intelligent Restaurant Collages**: Showcase 1-16 dishes with smart grid layouts
- **Adaptive Photo Grids**: Automatically selects the best grid layout for your photo count and card size
- **Top-Rated Priority**: Highest-rated dishes get extra visual space with prominent top-row placement
- **Customizable Photo Count**: Choose exactly how many dishes to include (1-16 or "All available")
- **Big Score Overlays**: Large, easy-to-read ratings (perfect 10s display as "10" instead of "10.0")
- **Multiple Sizes**: Square (1:1), Post (4:5), and Story (9:16) formats for any platform

### Tap-to-Preview Export Cards
- **Interactive Preview**: Tap the placeholder to generate and preview cards before sharing
- **Setting Adjustments**: Change size/privacy settings and regenerate preview on the fly
- **Instant Actions**: "Save to Photos" and "Share" buttons reuse existing preview

### Simplified Analytics
Refocused analytics on what matters most -- your ratings:

- **Top Rated Section**: View your top 5 restaurants and dishes by rating
- **Rating Distribution**: Visual breakdown showing excellent/great/good/average/poor ratings
- **Family Insights**: Per-person analytics with favorite restaurants and dishes (when using family ratings)
- **Recent Activity**: Recently rated dishes with relative timestamps

Removed visit/order frequency tracking to focus on rating-based insights.

## Improvements

### Refactored Architecture
Under the hood, the ViewModel has been simplified by extracting business logic into focused manager services for better maintainability:

- **RestaurantManager**: Restaurant CRUD operations
- **DishManager**: Dish management operations
- **PersonRaterManager**: Person and rating management
- **RatingManager**: Rating-specific operations
- **DataExportImportManager**: Import/export functionality

### Simplified Core Data Model
Cleaned up the data model to remove unused entities and attributes, resulting in a leaner 5-entity model (Restaurant, Dish, Person, Rating, Visit).

## Bug Fixes

- Fixed restaurant and dish lists not updating immediately after automatic cleanup
- Fixed incorrect dish counts showing on restaurant cards

### Filter System Improvements
- **Fixed Filter Lock**: When selecting a person with no dishes, a "Clear Filter" button now appears
- **Improved Empty States**: Person-specific empty messages ("No dishes rated by [Name]")
- **Better Navigation**: Always provides a way to clear filters and return to full list

## Requirements

- **iOS**: 17.0 or later
- **Storage**: Minimal -- all photos stored locally with aggressive compression
- **Internet**: Only needed for optional Pexels image fetching -- everything else works offline
